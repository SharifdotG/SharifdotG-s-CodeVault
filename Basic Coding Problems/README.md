<span style="display: none;" class="csrf-token" data-csrf="6a17b497c47a26409d60e76c935e5f91">&nbsp;</span>


<div class="notificationTextCleaner" style="font-size: 0;"></div>
<div class="button-up" style="display: none; opacity: 0.7; width: 50px; height: 100%; position: fixed; left: 0; top: 0; cursor: pointer; text-align: center; line-height: 35px; color: rgb(211, 219, 228); font-weight: bold; font-size: 3rem;"><i class="icon-circle-arrow-up"></i></div>
<div class="verdictPrototypeDiv" style="display: none;"></div>










    




<div id="body">
        

<div class="side-bell" style="visibility: hidden; display: none; opacity: 0.7; width: 40px; position: fixed; right: 0; top: 0; cursor: pointer; text-align: center; line-height: 35px; color: rgb(211, 219, 228); font-weight: bold; font-size: 1.5rem;">
    <span class="icon-stack" style="width: 100%;">
        <i class="icon-circle icon-stack-base"></i>
        <i class="icon-bell-alt icon-light"></i>
    </span>
    <br>
    <span class="side-bell__count" style="position: relative; top: -10px;"></span>
</div>


<div id="header" style="position: relative;">
    <div style="float: left; max-height: 60px;">
                    <a href="https://codeforces.com/"><img height="65" style="height: 65px;" alt="Codeforces" title="Codeforces" src="https://codeforces.org/s/52903/images/codeforces-sponsored-by-ton.png"></a>
    </div>
    <div class="lang-chooser">
        <div style="text-align: right;">
            <a href="?locale=en"><img src="https://codeforces.org/s/52903/images/flags/24/gb.png" title="In English" alt="In English"></a>
            <a href="?locale=ru"><img src="https://codeforces.org/s/52903/images/flags/24/ru.png" title="По-русски" alt="По-русски"></a>
        </div>

        <div>
                        <a href="https://codeforces.com/enter?back=%2Fproblemset%2Fproblem%2F1850%2FH">Enter</a>
                     | 
                        <a href="https://codeforces.com/register">Register</a>
                    
        </div>



    </div>
    <br style="clear: both;">
</div>
        


    <div class="roundbox menu-box borderTopRound borderBottomRound" style="">
    <div class="menu-list-container">
    <ul class="menu-list main-menu-list">
                <li class=""><a href="https://codeforces.com/">Home</a></li>
                <li class=""><a href="https://codeforces.com/top">Top</a></li>
                <li class=""><a href="https://codeforces.com/catalog">Catalog</a></li>
                <li class=""><a href="https://codeforces.com/contests">Contests</a></li>
                <li class=""><a href="https://codeforces.com/gyms">Gym</a></li>
                <li class="current"><a href="https://codeforces.com/problemset">Problemset</a></li>
                <li class=""><a href="https://codeforces.com/groups">Groups</a></li>
                <li class=""><a href="https://codeforces.com/ratings">Rating</a></li>
                <li class=""><a href="https://codeforces.com/edu/courses"><span class="edu-menu-item">Edu</span></a></li>
                <li class=""><a href="https://codeforces.com/apiHelp">API</a></li>
                <li class=""><a href="https://codeforces.com/calendar">Calendar</a></li>
                <li class=""><a href="https://codeforces.com/help">Help</a></li>
    </ul>
        <form method="post" action="/search"><input type="hidden" name="csrf_token" value="6a17b497c47a26409d60e76c935e5f91">
            <input class="search" name="query" data-isplaceholder="true" value="">
        </form>
    <br style="clear: both;">
</div>

    </div>

    
            <br style="height: 3em; clear: both;">

        <div style="position: relative;">
                        <div id="sidebar">


    <div class="roundbox sidebox borderTopRound " style="">
        <table class="rtable ">
            <tbody>
                <tr>
                            <th class="left" style="width: 100%;"><a style="color: black;" href="https://codeforces.com/contest/1850">Codeforces Round 886 (Div. 4)</a></th>
                </tr>
                    <tr>
                                <td class="left bottom" colspan="1"><span class="contest-state-phase">Finished</span></td>
                    </tr>
            </tbody>
        </table>
    </div>




    <div class="roundbox sidebox ContestVirtualFrame borderTopRound " style="">
        <div class="caption titled">→ Virtual participation         <i class="sidebar-caption-icon las la-angle-down"></i>

            <div class="top-links">
            </div>
        </div>
<div style="" data-page-url="/data/sidebarFrames">
    <div style="margin-top: 1em; margin-right: 1em; margin-bottom: 1em; margin-left: 1em; font-size: 0.8em;">
        Virtual contest is a way to take part in past contest, as close as possible to participation on time. It is supported only ICPC mode for virtual contests.

If you've seen these problems, a virtual contest is not for you - solve these problems in the archive.

If you just want to solve some problem from a contest, a virtual contest is not for you - solve this problem in the archive.

Never use someone else's code, read the tutorials or communicate with other person during a virtual contest.
    </div>

    <div style="text-align: center; margin-top: 1em; margin-right: 1em; margin-bottom: 1em; margin-left: 1em;">
        <form action="/contest/1850/virtual" method="get">
            <input type="submit" name="submit" value="Start virtual contest" style="padding-top: 0; padding-right: 0.5em; padding-bottom: 0; padding-left: 0.5em;">
        </form>
    </div>
</div>
        
    </div>



    <div class="roundbox sidebox borderTopRound " style="">
        <div class="caption titled">→ Problem tags
            <div class="top-links">
            </div>
        </div>
<div style="padding-top: 0.5em; padding-right: 0.5em; padding-bottom: 0.5em; padding-left: 0.5em;">

    <div class="roundbox  borderTopRound borderBottomRound" style="margin-top: 2px; margin-right: 2px; margin-bottom: 2px; margin-left: 2px; padding-top: 0; padding-right: 3px; padding-bottom: 2px; padding-left: 3px; background-color: rgb(240, 240, 240); float: left;">
<span class="tag-box" style="font-size: 1.2rem;" title="Dfs and similar">
    dfs and similar
</span>
    </div>

    <div class="roundbox  borderTopRound borderBottomRound" style="margin-top: 2px; margin-right: 2px; margin-bottom: 2px; margin-left: 2px; padding-top: 0; padding-right: 3px; padding-bottom: 2px; padding-left: 3px; background-color: rgb(240, 240, 240); float: left;">
<span class="tag-box" style="font-size: 1.2rem;" title="Graphs">
    graphs
</span>
    </div>

    <div class="roundbox  borderTopRound borderBottomRound" style="margin-top: 2px; margin-right: 2px; margin-bottom: 2px; margin-left: 2px; padding-top: 0; padding-right: 3px; padding-bottom: 2px; padding-left: 3px; background-color: rgb(240, 240, 240); float: left;">
<span class="tag-box" style="font-size: 1.2rem;" title="Greedy algorithms">
    greedy
</span>
    </div>

    <div class="roundbox  borderTopRound borderBottomRound" style="margin-top: 2px; margin-right: 2px; margin-bottom: 2px; margin-left: 2px; padding-top: 0; padding-right: 3px; padding-bottom: 2px; padding-left: 3px; background-color: rgb(240, 240, 240); float: left;">
<span class="tag-box" style="font-size: 1.2rem;" title="Implementation problems, programming technics, simulation">
    implementation
</span>
    </div>
    <div style="clear: both; text-align: right; font-size: 1.1rem;">
            <span title="Please login into the Codeforces" class="notice">No tag edit access</span>
    </div>
</div>
    </div>

<form id="addTagForm" action="/data/problemTags" method="post" style="display: none;"><input type="hidden" name="csrf_token" value="6a17b497c47a26409d60e76c935e5f91">
    <input name="action" type="hidden" value="addTag">
    <input name="problemId" type="hidden" value="2083774">
    <input name="tagName" type="hidden" value="">
</form>

<form id="removeTagForm" action="/data/problemTags" method="post" style="display: none;"><input type="hidden" name="csrf_token" value="6a17b497c47a26409d60e76c935e5f91">
    <input name="action" type="hidden" value="removeTag">
    <input name="problemId" type="hidden" value="2083774">
    <input name="tagName" type="hidden" value="">
</form>




<div class="roundbox sidebox sidebar-menu borderTopRound " style="">
<div class="caption titled">→ Contest materials
<div class="top-links">
</div>
</div>
<ul>
<li>
<span>
<a href="https://codeforces.com/blog/entry/118431" title="Codeforces Round 886 (Div. 4)" target="_blank">Announcement <span class="resource-locale">(en)</span></a>
</span>
<span style="float: right;">
<img class="delete-resource-link" resourceids="21079" resourcename="Codeforces Round 886 (Div. 4)" resourcemanual="true" src="https://codeforces.org/s/52903/images/icons/close-10x10.png" style="position: relative; bottom: -1px; left: 1px; cursor: pointer;">
</span>
<div style="clear: both;"></div>
</li>
</ul>
</div></div>
                        <div id="pageContent" class="content-with-sidebar">
                    <div class="second-level-menu">
<ul class="second-level-menu-list">
        <li class="current selectedLava"><a href="https://codeforces.com/problemset">Problems</a></li>
        <li><a href="https://codeforces.com/problemset/submit">Submit</a></li>
        <li><a href="https://codeforces.com/problemset/status">Status</a></li>
        <li><a href="https://codeforces.com/problemset/standings">Standings</a></li>
        <li><a href="https://codeforces.com/problemset/customtest">Custom test</a></li>
</ul>
</div>

    
    
    <div class="diff-popup">
    </div>

<div class="problemindexholder" problemindex="H" data-uuid="ps_5aaab802536a92918df89dfc81448c450f2c8bfc">
    <div style="display: none; margin-top: 1em; margin-right: 0; margin-bottom: 1em; margin-left: 0; text-align: center; position: relative;" class="alert alert-info diff-notifier">
        <div>The problem statement has recently been changed. <a class="view-changes" href="">View the changes.</a></div>
        <span class="diff-notifier-close" style="position: absolute; top: 0.2em; right: 0.3em; cursor: pointer; font-size: 1.4em;">×</span>
    </div>
        <div class="ttypography"><div class="problem-statement"><div class="header"><div class="title">H. The Third Letter</div><div class="time-limit"><div class="property-title">time limit per test</div>2 seconds</div><div class="memory-limit"><div class="property-title">memory limit per test</div>256 megabytes</div><div class="input-file"><div class="property-title">input</div>standard input</div><div class="output-file"><div class="property-title">output</div>standard output</div></div><div><p>In order to win his toughest battle, Mircea came up with a great strategy for his army. He has $$$n$$$ soldiers and decided to arrange them in a certain way in camps. Each soldier has to belong to exactly one camp, and there is one camp at each integer point on the $$$x$$$-axis (at points $$$\cdots, -2, -1, 0, 1, 2, \cdots$$$).</p><p>The strategy consists of $$$m$$$ conditions. Condition $$$i$$$ tells that soldier $$$a_i$$$ should belong to a camp that is situated $$$d_i$$$ meters in front of the camp that person $$$b_i$$$ belongs to. (If $$$d_i &lt; 0$$$, then $$$a_i$$$'s camp should be $$$-d_i$$$ meters behind $$$b_i$$$'s camp.)</p><p>Now, Mircea wonders if there exists a partition of soldiers that respects the condition and he asks for your help! Answer "<span class="tex-font-style-tt">YES</span>" if there is a partition of the $$$n$$$ soldiers that satisfies <span class="tex-font-style-bf">all</span> of the $$$m$$$ conditions and "<span class="tex-font-style-tt">NO</span>" otherwise.</p><p>Note that two different soldiers <span class="tex-font-style-bf">may</span> be placed in the same camp.</p></div><div class="input-specification"><div class="section-title">Input</div><p>The first line contains a single integer $$$t$$$ ($$$1 \leq t \leq 100$$$)&nbsp;— the number of test cases.</p><p>The first line of each test case contains two positive integers $$$n$$$ and $$$m$$$ ($$$2 \leq n \leq 2 \cdot 10^5$$$; $$$1 \leq m \leq n$$$)&nbsp;— the number of soldiers, and the number of conditions respectively.</p><p>Then $$$m$$$ lines follow, each of them containing $$$3$$$ integers: $$$a_i$$$, $$$b_i$$$, $$$d_i$$$ ($$$a_i \neq b_i$$$; $$$1 \leq a_i, b_i \leq n$$$; $$$-10^9 \leq d_i \leq 10^9$$$)&nbsp;— denoting the conditions explained in the statement. Note that if $$$d_i$$$ is positive, $$$a_i$$$ should be $$$d_i$$$ meters in front of $$$b_i$$$ and if it is negative, $$$a_i$$$ should be $$$-d_i$$$ meters behind $$$b_i$$$.</p><p>Note that the sum of $$$n$$$ over all test cases doesn't exceed $$$2 \cdot 10^5$$$.</p></div><div class="output-specification"><div class="section-title">Output</div><p>For each test case, output "<span class="tex-font-style-tt">YES</span>" if there is an arrangement of the $$$n$$$ soldiers that satisfies <span class="tex-font-style-bf">all</span> of the $$$m$$$ conditions and "<span class="tex-font-style-tt">NO</span>" otherwise.</p></div><div class="sample-tests"><div class="section-title">Example</div><div class="sample-test"><div class="input"><div class="title">Input</div><pre><div class="test-example-line test-example-line-even test-example-line-0">4</div><div class="test-example-line test-example-line-odd test-example-line-1">5 3</div><div class="test-example-line test-example-line-odd test-example-line-1">1 2 2</div><div class="test-example-line test-example-line-odd test-example-line-1">2 3 4</div><div class="test-example-line test-example-line-odd test-example-line-1">4 2 -6</div><div class="test-example-line test-example-line-even test-example-line-2">6 5</div><div class="test-example-line test-example-line-even test-example-line-2">1 2 2</div><div class="test-example-line test-example-line-even test-example-line-2">2 3 4</div><div class="test-example-line test-example-line-even test-example-line-2">4 2 -6</div><div class="test-example-line test-example-line-even test-example-line-2">5 4 4</div><div class="test-example-line test-example-line-even test-example-line-2">3 5 100</div><div class="test-example-line test-example-line-odd test-example-line-3">2 2</div><div class="test-example-line test-example-line-odd test-example-line-3">1 2 5</div><div class="test-example-line test-example-line-odd test-example-line-3">1 2 4</div><div class="test-example-line test-example-line-even test-example-line-4">4 1</div><div class="test-example-line test-example-line-even test-example-line-4">1 2 3</div></pre></div><div class="output"><div class="title">Output</div><pre>YES
NO
NO
YES
</pre></div></div></div><div class="note"><div class="section-title">Note</div><p>For the first test case, we can partition the soldiers into camps in the following way: soldier:</p><ul> <li> Soldier $$$1$$$ in the camp with the coordinate $$$x = 3$$$. </li><li> Soldier $$$2$$$ in the camp with the coordinate $$$x = 5$$$. </li><li> Soldier $$$3$$$ in the camp with the coordinate $$$x = 9$$$. </li><li> Soldier $$$4$$$ in the camp with the coordinate $$$x = 11$$$. </li></ul><p>For the second test case, there is no partition that can satisfy all the constraints at the same time.</p><p>For the third test case, there is no partition that satisfies all the constraints since we get contradictory information about the same pair.</p><p>For the fourth test case, in order to satisfy the only condition, a possible partition is:</p><ul> <li> Soldier $$$1$$$ in the camp with the coordinate $$$x = 10$$$. </li><li> Soldier $$$2$$$ in the camp with the coordinate $$$x = 13$$$. </li><li> Soldier $$$3$$$ in the camp with the coordinate $$$x = -2023$$$. </li><li> Soldier $$$4$$$ in the camp with the coordinate $$$x = -2023$$$. </li></ul></div></div><p>  </p></div>
</div>

    



                </div>
        </div>
            <br style="clear: both;">
            <div id="footer">
                <div><a href="https://codeforces.com/">Codeforces</a> (c) Copyright 2010-2023 Mike Mirzayanov</div>
                <div>The only programming contests Web 2.0 platform</div>
                    <div>Server time: <span class="format-timewithseconds" data-locale="en">Jul/22/2023 11:52:37</span> (k2).</div>
                    <div>Desktop version, switch to <a rel="nofollow" class="switchToMobile" href="?mobile=true">mobile version</a>.</div>
                <div class="smaller"><a href="https://codeforces.com/privacy">Privacy Policy</a></div>

                    <div style="margin-top: 25px;">
                        Supported by
                    </div>
                    <div style="margin-top: 8px; padding-bottom: 20px; position: relative; left: 10px;">
                        <a href="https://ton.org/"><img style="margin-right: 2em; width: 60px;" src="https://codeforces.org/s/21158/images/ton-100x100.png" alt="TON" title="TON"></a>
                        <a href="http://ifmo.ru/en/"><img style="width: 120px;" src="https://codeforces.org/s/21158/images/itmo_small_en-logo.png" alt="ИТМО" title="ИТМО"></a>
                    </div>
            </div>
        
    
    <div class="userListsFacebox" style="display: none;">
        <div style="padding-top: 0.5em; padding-right: 0.5em; padding-bottom: 0.5em; padding-left: 0.5em; width: 600px; max-height: 200px; overflow-y: auto;">
<div class="datatable" style="background-color: rgb(225, 225, 225); padding-bottom: 3px;">
            <div class="lt">&nbsp;</div>
            <div class="rt">&nbsp;</div>
            <div class="lb">&nbsp;</div>
            <div class="rb">&nbsp;</div>

            <div style="padding-top: 4px; padding-right: 0; padding-bottom: 0; padding-left: 6px; font-size: 1.4rem; position: relative;">
                User lists

                <div style="position: absolute; right: 0.25em; top: 0.35em;">
                    <span style="padding-top: 0; padding-right: 0; padding-bottom: 0; padding-left: 0; position: relative; bottom: 2px;" class="rowCount"></span>

                    <img class="closed" src="https://codeforces.org/s/21158/images/icons/control.png">

                    <span class="filter" style="display: none;">
                        <img class="opened" src="https://codeforces.org/s/21158/images/icons/control-270.png">
                        <input style="padding-top: 0; padding-right: 0; padding-bottom: 0; padding-left: 20px; position: relative; bottom: 2px; border-top-color: rgb(170, 170, 170); border-top-style: solid; border-top-width: 1px; border-right-color: rgb(170, 170, 170); border-right-style: solid; border-right-width: 1px; border-bottom-color: rgb(170, 170, 170); border-bottom-style: solid; border-bottom-width: 1px; border-left-color: rgb(170, 170, 170); border-left-style: solid; border-left-width: 1px; height: 17px; font-size: 1.3rem;">
                    </span>
                </div>
            </div>
            <div style="background-color: white; margin-top: 0.3em; margin-right: 3px; margin-bottom: 0; margin-left: 3px; position: relative;">
            <div class="ilt">&nbsp;</div>
            <div class="irt">&nbsp;</div>
            <table class="">
                <thead>
                <tr>
                    <th>Name</th>
                </tr>
                </thead>
                <tbody>
                </tbody>
            </table>
            </div>
        </div>
    
        </div>
    </div>
    
</div>
    
<iframe height="1" width="1" style="position: absolute; top: 0; left: 0; border-top-color: initial; border-top-style: none; border-top-width: initial; border-right-color: initial; border-right-style: none; border-right-width: initial; border-bottom-color: initial; border-bottom-style: none; border-bottom-width: initial; border-left-color: initial; border-left-style: none; border-left-width: initial; visibility: hidden;"></iframe>

<div id="cboxOverlay" style="position: absolute; display: none;"></div>
<div id="colorbox" class="cboxIE6" style="display: none;"><div id="cboxWrapper"><div><div id="cboxTopLeft"></div><div id="cboxTopCenter"></div><div id="cboxTopRight"></div></div><div style="clear: left;"><div id="cboxMiddleLeft"></div><div id="cboxContent"><div id="cboxLoadedContent" style="width: 0px; height: 0px; overflow-x: hidden; overflow-y: hidden;"></div><div id="cboxLoadingOverlay"></div><div id="cboxLoadingGraphic"></div><div id="cboxTitle"></div><div id="cboxCurrent"></div><div id="cboxNext"></div><div id="cboxPrevious"></div><div id="cboxSlideshow"></div><div id="cboxClose"></div></div><div id="cboxMiddleRight"></div></div><div style="clear: left;"><div id="cboxBottomLeft"></div><div id="cboxBottomCenter"></div><div id="cboxBottomRight"></div></div></div><div style="position: absolute; width: 9999px; visibility: hidden; display: none;"></div></div>